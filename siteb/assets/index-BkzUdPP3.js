import{r as i,j as e,B as d,L as h,m}from"./index-CigCxgFi.js";import{S as j,T as p,U as u}from"./user-nav-B2EUg7PB.js";import{L as f,f as T,g as b}from"./dropdown-menu-mtmN-A2j.js";import{T as N,a as v,b as w,c,d as t,e as g,f as a}from"./table-JiFw1NpC.js";import"./input-5sKIq885.js";import"./avatar-BFPaLsc3.js";import"./index-OA8KlxUs.js";import"./Combination-emcfCXyF.js";import"./index-DQNFMfK1.js";import"./index-ByI2KpZn.js";import"./index-Dg0tfC-9.js";function y(){const[l,o]=i.useState([]);i.useEffect(()=>{async function s(){const n=await(await fetch("https://siteb-api.tuyentt.com/v1/erequest")).json();o(n)}s()},[]);const x=({textOutput:s})=>{console.log(s);const r=new Blob([s.data],{type:"text/plain"}),n=s.id+".txt";return e.jsx(d,{variant:"outlined",children:e.jsx("a",{download:n,target:"_blank",rel:"noreferrer",href:URL.createObjectURL(r),style:{textDecoration:"inherit",color:"inherit"},children:"Download"})})};return e.jsxs(N,{children:[e.jsx(v,{children:"Lịch sử truy vấn"}),e.jsx(w,{children:e.jsxs(c,{children:[e.jsx(t,{className:"w-[100px] text-center",children:"STT"}),e.jsx(t,{children:"ID Truy vấn"}),e.jsx(t,{children:"Thời gian tạo"}),e.jsx(t,{className:"text-center",children:"Thời gian phản hồi"}),e.jsx(t,{className:"text-center",children:"Trạng thái"}),e.jsx(t,{className:"text-center",children:"Dữ liệu"})]})}),e.jsx(g,{children:l.map((s,r)=>e.jsxs(c,{children:[e.jsx(a,{className:"w-[100px]  text-center",children:r+1}),e.jsx(a,{children:s.id}),e.jsx(a,{children:s.createdAt}),e.jsx(a,{className:"text-center",children:s.status!=="success"?"-":s.updatedAt}),e.jsx(a,{className:"text-center",children:s.status}),e.jsx(a,{className:"text-center",children:e.jsx(x,{textOutput:s})})]},s.id))})]})}function C(){return e.jsxs(f,{children:[e.jsxs(T,{children:[e.jsx(j,{}),e.jsxs("div",{className:"ml-auto flex items-center space-x-4",children:[e.jsx(p,{}),e.jsx(u,{})]})]}),e.jsxs(b,{className:"flex flex-col",fixedHeight:!0,children:[e.jsxs("div",{className:"mb-2 flex items-center justify-between space-y-2",children:[e.jsx("div",{children:e.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Danh sách truy vấn"})}),e.jsx("div",{children:e.jsx(h,{to:"/queries/new",className:m({variant:"default"}),children:"Tạo truy vấn mới"})})]}),e.jsx("div",{className:"-mx-4 flex-1 overflow-auto px-4 py-1 lg:flex-row lg:space-x-12 lg:space-y-0",children:e.jsx(y,{})})]})]})}export{C as default};
